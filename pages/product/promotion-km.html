<!DOCTYPE html>
<html>

<head>
  <base href="../../." />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <meta http-equiv="Content-Security-Policy"
    content="default-src * data: gap: content: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'" />
  <!--<script src="components/loader.js"></script>
  <link rel="stylesheet" href="components/loader.css">-->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="js/vendors/select2/select2.css" />
  <!-- end select2 -->
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css" />
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css" />
  <!--<link rel="stylesheet" href="lib/jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.css">-->
  <link rel="stylesheet" href="js/vendors/gliderjs/glider.min.css" />
  <link rel="stylesheet" href="js/vendors/splide/dist/css/splide.min.css" />
  <link rel="stylesheet" href="css/general.css" />
  <link rel="stylesheet" href="css/icon.css" />
  <link rel="stylesheet" href="css/theme-color.css" />
  <!--<script src="lib/jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.js"></script>-->
  <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>

  <title>VNSHOP</title>
</head>

<body>


  <!-- Auto Bottom Sheet -->
  <div class="auto-bottom-sheet">
    <div class="bottom-sheet-mask" onclick="hideAutoBottomSheet()"></div>
    <div class="bottom-sheet-content">
      <div class="bottom-sheet-handle"></div>

      <div class="bottom-sheet-body">
        <div class="main">
          <div class="page page-promotion">
            <div class="bg-white pb16 pt16 pl16 pr16 toolbar">
              <div class="width-100">
                <div class="row row-8 align-center">
                  <div class="col">
                    <div class="font-size-16 font-weight-700 text-center">Khuyến mại</div>
                  </div>
                  <div class="col-auto">
                    <button onclick="hideAutoBottomSheet()" class="button button--quiet">
                      <img src="general/icon/close-select.svg" alt="">
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="page__content">      
              <div class="product-detail">
                <div class="list-box-bor">
                  <div class="box box-gift">
                    <div class="title">
                      <div class="main">
                        <span class="color-main font-size-16 font-weight-700"
                          >Khuyến mại đã nhận</span
                        >
                      </div>
                    </div>
                    <div class="main list-mb-12">
                      <div class="row row-8">
                        <div class="col-auto">
                          <div class="product-gifts__item pd0"><img class="icon_24 border-radius-4" src="demo/voucher1-1.png" /></div>
                        </div>
                        <div class="col font-size-14">
                          <div class="block"><span class="font-weight-700">Giảm 4.000.000</span> <br>(áp dụng vào giá sản phẩm)</div>

                        </div>
                      </div>
                      <div class="row row-8">
                        <div class="col-auto">
                          <div class="product-gifts__item pd0"><img class="icon_24 border-radius-4" src="demo/pd-gift1.png" /></div>
                        </div>
                        <div class="col font-size-14">
                          <div class="block"><span class="font-weight-700">1 x Tai nghe Bluetooth Apple AirPods 4</span></div>
                          <div class="product-gifts__tag"><span class="tag-item">Quà tặng</span></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="box box-choose">
                    <div class="title">
                      <div class="main">
                  <span class="color-main font-size-16 font-weight-700"
                  >Chọn 1 trong những khuyến mại sau</span
                  >
                      </div>
                    </div>
                    <div class="main">
                      <ul class="list">
                        <li class="list-item list-item--tappable">
                          <label for="r1" class="list-item__center">
                            <div class="row row-12 align-center">
                              <div class="col-auto">
                                <div class="box-55">
                                  <img
                                          class="border-radius"
                                          src="demo/voucher1-1.png"
                                  />
                                </div>
                              </div>
                              <div class="col list-mb-4">
                                <div class="font-size-14">
                                  <span class="font-weight-700">Giảm 20%</span> (Giảm giá sản phẩm)
                                </div>
                                <div class="font-size-13 font-weight-400">
                                  Khuyến mại áp dụng khi mua tối thiểu 2 sản phẩm
                                </div>
                                <div
                                        class="font-size-12 font-weight-400 color-disabled"
                                >
                                  HSD: 30/09/2023
                                </div>
                              </div>
                            </div>
                          </label>
                          <div class="list-item__right">
                            <label class="radio-button">
                              <input
                                      type="radio"
                                      id="r1"
                                      class="radio-button__input"
                                      name="r"
                                      checked="checked"
                              />
                              <div class="radio-button__checkmark"></div>
                            </label>
                          </div>
                        </li>
                        <li class="list-item list-item--tappable">
                          <label for="r2" class="list-item__center">
                            <div class="row row-12 align-center">
                              <div class="col-auto">
                                <div class="box-55">
                                  <img
                                          class="border-radius"
                                          src="demo/voucher2-1.png"
                                  />
                                </div>
                              </div>
                              <div class="col list-mb-4">
                                <div class="font-size-14">
                                  <span class="font-weight-700">1 x Củ sạc nhanh iPhone Type-C</span>
                                </div>
                                <div class="product-gifts__tag"><span class="tag-item">Quà tặng</span><span class="color-danger">Quà tặng tạm hết</span></div>
                                <div class="font-size-13 font-weight-400">
                                  Khuyến mại áp dụng khi mua tối thiểu 2 sản phẩm
                                </div>
                                <div
                                        class="font-size-12 font-weight-400 color-disabled"
                                >
                                  HSD: 30/09/2023
                                </div>
                              </div>
                            </div>
                          </label>
                          <div class="list-item__right">
                            <label class="radio-button">
                              <input
                                      type="radio"
                                      id="r2"
                                      class="radio-button__input"
                                      name="r"
                              />
                              <div class="radio-button__checkmark"></div>
                            </label>
                          </div>
                        </li>
                        <li class="list-item list-item--tappable">
                          <label for="r3" class="list-item__center">
                            <div class="row row-12 align-center">
                              <div class="col-auto">
                                <div class="box-55">
                                  <img
                                          class="border-radius"
                                          src="demo/voucher3-1.png"
                                  />
                                </div>
                              </div>
                              <div class="col list-mb-4">
                                <div class="font-size-14">
                                  <span class="font-weight-700">1 x Tai nghe Có Dây Apple MTJY3</span>
                                </div>
                                <div class="product-gifts__tag"><span class="tag-item">Quà tặng</span><span class="color-danger">Quà tặng tạm hết</span></div>
                                <div class="font-size-13 font-weight-400">
                                  Khuyến mại áp dụng khi mua tối thiểu 2 sản phẩm
                                </div>
                                <div
                                        class="font-size-12 font-weight-400 color-disabled"
                                >
                                  HSD: 30/09/2023
                                </div>
                              </div>
                            </div>
                          </label>
                          <div class="list-item__right">
                            <label class="radio-button">
                              <input
                                      type="radio"
                                      id="r3"
                                      class="radio-button__input"
                                      name="r"
                              />
                              <div class="radio-button__checkmark"></div>
                            </label>
                          </div>
                        </li>
                        <li class="list-item list-item--tappable">
                          <label for="r1" class="list-item__center">
                            <div class="row row-12 align-center">
                              <div class="col-auto">
                                <div class="box-55">
                                  <img class="border-radius" src="demo/voucher1.png">
                                </div>
                              </div>
                              <div class="col list-mb-4">
                                <div class="font-size-14">
                                  <span class="font-weight-700">Giảm 8.000đ</span> (Giảm giá sản phẩm)
                                </div>

                                <div class="font-size-13 font-weight-400">
                                  Khuyến mại áp dụng khi mua tối thiểu 2 sản phẩm
                                </div>
                                <div class="font-size-12 font-weight-400 color-disabled">
                                  HSD: 30/09/2025
                                </div>
                              </div>
                            </div>
                          </label>
                          <div class="list-item__right">
                            <label class="radio-button">
                              <input type="radio" id="r1" class="radio-button__input" name="r">
                              <div class="radio-button__checkmark"></div>
                            </label>
                          </div>
                        </li>
                        <li class="list-item list-item--tappable">
                          <label for="r1" class="list-item__center">
                            <div class="row row-12 align-center">
                              <div class="col-auto">
                                <div class="box-55">
                                  <img class="border-radius" src="demo/voucher1.png">
                                </div>
                              </div>
                              <div class="col list-mb-4">
                                <div class="font-size-14">
                                  <span class="font-weight-700">Giảm 8.000đ</span> (Giảm giá sản phẩm)<br>
                                  <span class="font-weight-700">và 1 x Nước xả Downy</span> (Quà tặng)
                                </div>
                                <div class="font-size-13 font-weight-400">
                                  Khuyến mại áp dụng khi mua tối thiểu 2 sản phẩm
                                </div>
                                <div class="font-size-12 font-weight-400 color-disabled">
                                  HSD: 30/09/2023
                                </div>
                              </div>
                            </div>
                          </label>
                          <div class="list-item__right">
                            <label class="radio-button">
                              <input type="radio" id="r1" class="radio-button__input" name="r">
                              <div class="radio-button__checkmark"></div>
                            </label>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tabbar tabbar-auto">
              <div class="button-form">
                <div class="button-form-cont">
                  <div class="row row-12">
                    <div class="col">
                      <a href="pages/product/cart.html" class="button width-100 button-md">
                        Áp dụng
                      </a>                
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- jquery -->
  <script src="lib/jquery/jquery-1.12.4.min.js"></script>
  <script src="lib/jquery/jquery.init.js"></script>
  <!-- jquery -->
  <script src="js/vendors/splide/dist/js/splide.min.js"></script>
  <script src="js/vendors/gliderjs/glider.min.js"></script>
  <!-- select2 -->
  <script src="js/vendors/select2/select2.js"></script>
  <script src="js/vendors/select2/select2.init.js"></script>
  <!-- select2 -->
  <script src="js/custom.js"></script>

  <style>
    /* Auto Bottom Sheet Styles */
    .auto-bottom-sheet {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1000;
      display: none;
    }

    .auto-bottom-sheet.show {
      display: block;
    }

    .bottom-sheet-mask {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .auto-bottom-sheet.show .bottom-sheet-mask {
      opacity: 1;
    }

    .bottom-sheet-content {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      border-radius: 16px 16px 0 0;
      transform: translateY(100%);
      transition: transform 0.3s ease;
      max-height: 90vh;
      overflow-y: auto;
    }

    .auto-bottom-sheet.show .bottom-sheet-content {
      transform: translateY(0);
    }

    .bottom-sheet-handle {
      width: 40px;
      height: 4px;
      background: #ddd;
      border-radius: 2px;
      margin: 8px auto;
    }

    .bottom-sheet-header {
      padding: 16px;
      border-bottom: 1px solid var(--border-color);
      position: sticky;
      top: 0;
      background: white;
      z-index: 10;
    }

    .bottom-sheet-body {
      padding: 16px;
      overflow-y: auto;
    }

    /* Custom Height Options */
    .bottom-sheet-content {
      max-height: 95vh;
      /* Điều chỉnh chiều cao tối đa */
      min-height: 90vh;
      /* Điều chỉnh chiều cao tối thiểu */
    }

    .bottom-sheet-content .page__content {
      top: 73px; bottom: 80px;
    }

    .bottom-sheet-content .toolbar {
      height: auto;
    }

    .bottom-sheet-content .bottom-sheet-handle {
      z-index: 3;
      position: relative;
    }

    .bottom-sheet-content .button-form-cont {
      padding-bottom: 16px !important;
    }

    

    /* Hoặc height cố định */
    /* .bottom-sheet-content {
        height: 500px;
      } */

    /* Responsive height */
    @media (max-height: 600px) {
      .bottom-sheet-content {
        max-height: 90vh;
      }
    }

    @media (min-height: 800px) {
      .bottom-sheet-content {
        max-height: 85vh;
      }
    }
  </style>

  <script>
    $(document).ready(function () {
      //input clear
      const buttonsearch = document.getElementById("button-search");
      $(".input-has-clear").on("paste keyup change", function () {
        var inputClear = $(this)
          .closest(".input-inner-wrap")
          .find(".input-ic-clear");
        if ($(this).val()) {
          buttonsearch.removeAttribute("disabled");
        } else {
          buttonsearch.setAttribute("disabled", "");
        }
      });
      //end input clear  

      // Auto show bottom sheet when page loads
      setTimeout(function () {
        showAutoBottomSheet();
      }, 800); // Delay 800ms to ensure page is fully loaded
    });

    // Auto Bottom Sheet Functions
    function showAutoBottomSheet() {
      var bottomSheet = document.querySelector('.auto-bottom-sheet');
      bottomSheet.classList.add('show');
    }

    function hideAutoBottomSheet() {
      var bottomSheet = document.querySelector('.auto-bottom-sheet');
      bottomSheet.classList.remove('show');
    }

    // Select Promotion Function
    function selectPromotion(promoCode) {
      // Fill the input field with the selected promotion code
      var inputField = document.querySelector('.input-has-clear');
      if (inputField) {
        inputField.value = promoCode;
        inputField.dispatchEvent(new Event('input', { bubbles: true }));
      }

      // Hide the bottom sheet
      hideAutoBottomSheet();

      // Show success message (optional)
      showPromotionMessage(promoCode);
    }

    // Show promotion message
    function showPromotionMessage(promoCode) {
      // You can customize this message based on the promotion code
      var messages = {
        'FREESHIP': 'Đã áp dụng mã miễn phí vận chuyển!',
        'SALE10': 'Đã áp dụng mã giảm 10%!',
        'NEWUSER': 'Đã áp dụng ưu đãi người dùng mới!',
        'VIP': 'Đã áp dụng ưu đãi VIP!'
      };

      // Simple alert for demo - you can replace with toast notification
      if (messages[promoCode]) {
        alert(messages[promoCode]);
      }
    }
  </script>
</body>

</html>