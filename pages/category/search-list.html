<!DOCTYPE html>
<html>
  <head>
    <base href="../../." />
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src * data: gap: content: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'"
    />
    <!--<script src="components/loader.js"></script>
  <link rel="stylesheet" href="components/loader.css">-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="js/vendors/select2/select2.css" />
    <!-- end select2 -->
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/onsenui/css/onsen-css-components.min.css"
    />
    <!--<link rel="stylesheet" href="lib/jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.css">-->
    <link rel="stylesheet" href="js/vendors/gliderjs/glider.min.css" />
    <link rel="stylesheet" href="js/vendors/splide/dist/css/splide.min.css" />
    <link rel="stylesheet" href="css/general.css" />
    <link rel="stylesheet" href="css/icon.css" />
    <link rel="stylesheet" href="css/theme-color.css" />
    <!--<script src="lib/jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.js"></script>-->
    <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>

    <title>VNSHOP</title>
  </head>
  <body>
    <div class="page page-toolbar-nobor page-product-list">
      <div class="toolbar align-center flex">
        <div class="toolbar__left">
          <a href="/" class="button button--quiet">
            <i class="icon icon_24 icon_back color-main"></i>
          </a>
        </div>
        <div class="toolbar__center">
          <div class="form-group width-100">
            <div
              class="input-group-wrap input-default input-size-default input-group-vertical"
            >
              <label class="input-inner-wrap">
                <input
                value="Kem chống nắng"
                  type=""
                  class="input search-input input-label-change input-has-clear"
                  placeholder="Kem chống nắng"
                  required
                  autocorrect="off"
                />
                <div class="input-extend input-extend-right">
                  <div class="input-box input-ic-clear"></div>
                </div>
                <div class="input-frame"></div>
              </label>
            </div>
            <div class="errorBlock"></div>
          </div>
        </div>
        <div class="toolbar__right">
          <button class="button button--quiet">
            <i class="icon icon_24 icon_cart color-main"></i>
          </button>
        </div>
      </div>    
      <div class="toolbar toolbar-sub align-center flex">
        <div class="toolbar__left">
          <button
            onclick="button_list()"
            class="button button--light button-list button-xs active"
          >
            <i class="icon icon_20 icon_list color-main"></i>
          </button>
        </div>
        <div class="toolbar__center tabbar-scroll">
          <div class="tabbar tabbar-md tabbar--top tabbar--top-border">
            <label class="tabbar__item tabbar--top-border__item">
              <input type="radio" name="tabbar-menu" checked="checked" />
              <button class="tabbar__button tabbar--top-border__button">
                Liên quan
              </button>
            </label>

            <label class="tabbar__item tabbar--top-border__item">
              <input type="radio" name="tabbar-menu" />
              <button class="tabbar__button tabbar--top-border__button">
                KM tốt nhất
              </button>
            </label>

            <label class="tabbar__item tabbar--top-border__item">
              <input type="radio" name="tabbar-menu" />
              <button class="tabbar__button tabbar--top-border__button">
                Mới nhất
              </button>
            </label>

            <label class="tabbar__item tabbar--top-border__item">
              <input type="radio" name="tabbar-menu" />
              <button class="tabbar__button tabbar--top-border__button">
                Bán chạy
              </button>
            </label>
            <label class="tabbar__item tabbar--top-border__item text-left">
              <input type="radio" name="tabbar-menu" />
              <button class="tabbar__button tabbar--top-border__button">
                <span class="button_text pr3">Giá</span>
                <i class="icon icon_16 icon_price_filter"></i>
              </button>
            </label>
          </div>
        </div>
        <div class="toolbar__right line-left">
          <button
            onclick="showsheet()"
            class="button button-filter button-xs button--quiet"
          >
            <i class="icon icon_20 icon_filter color-main"></i>
          </button>
        </div>
      </div>  
      <div class="page__background"></div>
      <div class="page__content">        
        <div class="list-product list-product-custom">
          <div class="main">
            <div class="masonry list-mb-12 masonry-list">
              <div class="masonry-item">
                <a href="pages/product/product-detail.html" class="product list-mb-8">
                  <div class="product-img">
                    <img src="demo/search_01.png" />
                    <div class="product-stick">
                      <span class="bg-primary">Freeship</span
                      ><span class="bg-secondary-light-300">Sale 8.8</span>
                    </div>
                  </div>
                  <div class="product-cont">
                    <div class="product-title-sub font-size-10 text-secondary">
                      APPLE
                    </div>
                    <div class="product-title">
                      Điện thoại iPhone 16 Pro MAX 512GB
                    </div>
                    <div class="price-main font-weight-800">
                      <div class="font-size-16">25.000.000 đ</div>
                    </div>
                    <div class="price-sub font-size-12">
                      <span class="price-sub-text">27.750.000 đ</span>
                      <span class="price-sub-number">-11%</span>
                    </div>
                  </div>
                </a>
              </div>
              <div class="masonry-item">
                <a href="pages/product/product-detail.html" class="product list-mb-8">
                  <div class="product-img">
                    <img src="demo/search_02.png" />
                    <div class="product-stick">
                      <span class="bg-primary">Freeship</span
                      ><span class="bg-secondary-light-300">Sale 8.8</span>
                    </div>
                  </div>
                  <div class="product-cont">
                    <div class="product-title-sub font-size-10 text-secondary">
                      APPLE
                    </div>
                    <div class="product-title">
                      Điện thoại iPhone 16 Pro MAX 512GB
                    </div>
                    <div class="price-main font-weight-800">
                      <div class="font-size-16">25.000.000 đ</div>
                    </div>
                    <div class="price-sub font-size-12">
                      <span class="price-sub-text">27.750.000 đ</span>
                      <span class="price-sub-number">-11%</span>
                    </div>
                  </div>
                </a>
              </div>
              <div class="masonry-item">
                <a href="pages/product/product-detail.html" class="product list-mb-8">
                  <div class="product-img">
                    <img src="demo/product-detail.png" />
                    <div class="product-stick">
                      <span class="bg-primary">Freeship</span
                      ><span class="bg-secondary-light-300">Sale 8.8</span>
                    </div>
                  </div>
                  <div class="product-cont">
                    <div class="product-title-sub font-size-10 text-secondary">
                      APPLE
                    </div>
                    <div class="product-title">
                      Điện thoại iPhone 16 Pro MAX 512GB
                    </div>
                    <div class="price-main font-weight-800">
                      <div class="font-size-16">25.000.000 đ</div>
                    </div>
                    <div class="price-sub font-size-12">
                      <span class="price-sub-text">27.750.000 đ</span>
                      <span class="price-sub-number">-11%</span>
                    </div>
                  </div>
                </a>
              </div>
              <div class="masonry-item">
                <a href="pages/product/product-detail.html" class="product list-mb-8">
                  <div class="product-img">
                    <img src="demo/product-demo1.jpg" />
                    <div class="product-stick">
                      <span class="bg-primary">Freeship</span
                      ><span class="bg-secondary-light-300">Sale 8.8</span>
                    </div>
                  </div>
                  <div class="product-cont">
                    <div class="product-title-sub font-size-10 text-secondary">
                      APPLE
                    </div>
                    <div class="product-title">
                      Điện thoại iPhone 16 Pro MAX 512GB
                    </div>
                    <div class="price-main font-weight-800">
                      <div class="font-size-16">25.000.000 đ</div>
                    </div>
                    <div class="price-sub font-size-12">
                      <span class="price-sub-text">27.750.000 đ</span>
                      <span class="price-sub-number">-11%</span>
                    </div>
                  </div>
                </a>
              </div>
              <div class="masonry-item">
                <a href="pages/product/product-detail.html" class="product list-mb-8">
                  <div class="product-img">
                    <img src="demo/search_05.png" />
                    <div class="product-stick">
                      <span class="bg-primary">Freeship</span
                      ><span class="bg-secondary-light-300">Sale 8.8</span>
                    </div>
                  </div>
                  <div class="product-cont">
                    <div class="product-title-sub font-size-10 text-secondary">
                      APPLE
                    </div>
                    <div class="product-title">
                      Điện thoại iPhone 16 Pro MAX 512GB
                    </div>
                    <div class="price-main font-weight-800">
                      <div class="font-size-16">25.000.000 đ</div>
                    </div>
                    <div class="price-sub font-size-12">
                      <span class="price-sub-text">27.750.000 đ</span>
                      <span class="price-sub-number">-11%</span>
                    </div>
                  </div>
                </a>
              </div>
              <div class="masonry-item">
                <a href="pages/product/product-detail.html" class="product list-mb-8">
                  <div class="product-img">
                    <img src="demo/search_06.png" />
                    <div class="product-stick">
                      <span class="bg-primary">Freeship</span
                      ><span class="bg-secondary-light-300">Sale 8.8</span>
                    </div>
                  </div>
                  <div class="product-cont">
                    <div class="product-title-sub font-size-10 text-secondary">
                      APPLE
                    </div>
                    <div class="product-title">
                      Điện thoại iPhone 16 Pro MAX 512GB
                    </div>
                    <div class="price-main font-weight-800">
                      <div class="font-size-16">25.000.000 đ</div>
                    </div>
                    <div class="price-sub font-size-12">
                      <span class="price-sub-text">27.750.000 đ</span>
                      <span class="price-sub-number">-11%</span>
                    </div>
                  </div>
                </a>
              </div>
              <div class="masonry-item">
                <a href="pages/product/product-detail.html" class="product list-mb-8">
                  <div class="product-img">
                    <img src="demo/search_07.png" />
                    <div class="product-stick">
                      <span class="bg-primary">Freeship</span
                      ><span class="bg-secondary-light-300">Sale 8.8</span>
                    </div>
                  </div>
                  <div class="product-cont">
                    <div class="product-title-sub font-size-10 text-secondary">
                      APPLE
                    </div>
                    <div class="product-title">
                      Điện thoại iPhone 16 Pro MAX 512GB
                    </div>
                    <div class="price-main font-weight-800">
                      <div class="font-size-16">25.000.000 đ</div>
                    </div>
                    <div class="price-sub font-size-12">
                      <span class="price-sub-text">27.750.000 đ</span>
                      <span class="price-sub-number">-11%</span>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--
      <ons-dialog id="dialog_search" class="dialog_full">
      Content
    </ons-dialog>
  -->
  <ons-action-sheet someAttribute="true" anotherAttribute>
    <div class="action-sheet-mask action-sheet-mask--material" onclick="hidesheet()"></div>
    <div class="action-sheet action-sheet-top action-sheet--material">      
      <div onclick="hidesheet()" class="sheet-title action-sheet-title action-sheet-title--material">Bộ lọc tìm kiếm
        <button class="button-close button button--quiet button-24"><i class="icon icon_24 ic_close color-main"></i></button>
      </div>
      <div class="sheet-cont">
        <div class="box">
          <div class="title">
            <div class="main">
              <div class="row row-8 align-center">
                <div class="col">
                  <div class="font-size-14">Danh mục</div>
                </div>
              </div>
            </div>
          </div>
          <div class="main">
            <div class="box-more-product">
              <div class="read-more">
                <div class="box-radio">
                  <div class="tabbar tabbar-sm tabbar--top">
                    <label class="tabbar__item">
                      <input type="checkbox" name="tabbar-radio1" checked="checked" />
                      <button class="tabbar__button tabbar-button-bor">
                        Mỹ phẩm (n)
                      </button>
                    </label>
        
                    <label class="tabbar__item">
                      <input type="checkbox" name="tabbar-radio1" />
                      <button class="tabbar__button tabbar-button-bor">
                        Dưỡng da (n)
                      </button>
                    </label>

                  </div>
                </div>
              </div>
              <div class="button-more text-center font-size-13 font-weight-600">
                <label for="check-more-1">
                  <input id="check-more-1" type="checkbox" class="check-more">
                  <div class="show">
                    <span>Hiển thị thêm</span>
                    <i class="icon_16 icon ic_drop"></i>
                  </div>
                  <div class="hiddren">
                    <span>Thu gọn</span>
                    <i class="icon_16 icon ic_up"></i>
                  </div>
                </label>
              </div>
            </div>            
          </div>
        </div>
        <div class="box">
          <div class="title">
            <div class="main">
              <div class="row row-8 align-center">
                <div class="col">
                  <div class="font-size-14">Khoảng giá</div>
                </div>
              </div>
            </div>
          </div>
          <div class="main">
            <div class="form list-mb-4">
              <div class="row row-12">
                <div class="col">
                  <div class="price-range">
                    <!-- Labels hiển thị giá -->
                    <div class="labels">
                      <span id="min-price">0đ</span>
                      <span id="max-price">10.000.000đ</span>
                    </div>

                    <!-- Slider wrapper -->
                    <div class="slider">
                      <div class="track"></div>
                      <div class="progress"></div>
                      <input type="range" id="minRange" min="0" max="10000000" step="100000" value="0">
                      <input type="range" id="maxRange" min="0" max="10000000" step="100000" value="10000000">
                    </div>
                  </div>

                </div>
              </div>     

            </div>
          </div>
        </div>
        <div class="box">
          <div class="title">
            <div class="main">
              <div class="row row-8 align-center">
                <div class="col">
                  <div class="font-size-14">Thương hiệu</div>
                </div>
              </div>
            </div>
          </div>
          <div class="main">
            <div class="box-more-product">
              <div class="read-more">
                <div class="box-radio">
                  <div class="tabbar tabbar-sm tabbar--top">
                    <label class="tabbar__item">
                      <input type="checkbox" name="tabbar-radio1" checked="checked" />
                      <button class="tabbar__button tabbar-button-bor">
                        Dior
                      </button>
                    </label>
        
                    <label class="tabbar__item">
                      <input type="checkbox" name="tabbar-radio1" />
                      <button class="tabbar__button tabbar-button-bor">
                        Channel
                      </button>
                    </label>
        
                    <label class="tabbar__item">
                      <input type="checkbox" name="tabbar-radio1" />
                      <button class="tabbar__button tabbar-button-bor">
                        YSL
                      </button>
                    </label>
                  </div>
                </div>
              </div>
              <div class="button-more text-center font-size-13 font-weight-600">
                <label for="check-more-2">
                  <input id="check-more-2" type="checkbox" class="check-more">
                  <div class="show">
                    <span>Hiển thị thêm</span>
                    <i class="icon_16 icon ic_drop"></i>
                  </div>
                  <div class="hiddren">
                    <span>Thu gọn</span>
                    <i class="icon_16 icon ic_up"></i>
                  </div>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="sheet-footer">
        <div class="row row-12">
          <div class="col-6">
            <button class="button button--outline button-md width-100">Thiết lập lại</button>
          </div>
          <div class="col-6">
            <button onclick="hidesheet()" class="button button-block button-primary button-md  width-100"><span class="button-block-text">Áp dụng</span> <span class="block font-size-10 font-weight-400">(100 sản phẩm)</span></button>
          </div>
        </div>
      </div>      
    </div>

  </ons-action-sheet>
    <!-- jquery -->
    <script src="lib/jquery/jquery-1.12.4.min.js"></script>
    <script src="lib/jquery/jquery.init.js"></script>
    <!-- jquery -->
    <script src="js/vendors/splide/dist/js/splide.min.js"></script>
    <script src="js/vendors/gliderjs/glider.min.js"></script>
    <!-- select2 -->
    <script src="js/vendors/select2/select2.js"></script>
    <script src="js/vendors/select2/select2.init.js"></script>
    <!-- select2 -->
    <script src="js/custom.js"></script>
    <script>
      const minRange = document.getElementById('minRange');
      const maxRange = document.getElementById('maxRange');
      const minPrice = document.getElementById('min-price');
      const maxPrice = document.getElementById('max-price');
      const progress = document.querySelector('.slider .progress');
      const STEP = parseInt(minRange.step, 10);

      function updateRange() {
        let minVal = parseInt(minRange.value, 10);
        let maxVal = parseInt(maxRange.value, 10);

        // đảm bảo min < max
        if (minVal > maxVal - STEP) {
          minVal = maxVal - STEP;
          minRange.value = minVal;
        }
        if (maxVal < minVal + STEP) {
          maxVal = minVal + STEP;
          maxRange.value = maxVal;
        }

        const rangeTotal = parseInt(minRange.max, 10) - parseInt(minRange.min, 10);
        const percentMin = ((minVal - parseInt(minRange.min, 10)) / rangeTotal) * 100;
        const percentMax = ((maxVal - parseInt(minRange.min, 10)) / rangeTotal) * 100;

        // cập nhật vị trí và độ rộng của bar fill
        progress.style.left = percentMin + '%';
        progress.style.width = (percentMax - percentMin) + '%';

        // hiển thị text với dấu phân ngăn
        minPrice.textContent = minVal.toLocaleString('vi-VN') + 'đ';
        maxPrice.textContent = maxVal.toLocaleString('vi-VN') + 'đ';
      }

      // gắn sự kiện
      minRange.addEventListener('input', updateRange);
      maxRange.addEventListener('input', updateRange);
      window.addEventListener('load', updateRange);
    </script>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const tabbar = document.querySelector('.tabbar');
        const radios = tabbar.querySelectorAll('input[name="tabbar-menu"]');

        function scrollToActive() {
          const activeRadio = tabbar.querySelector('input[name="tabbar-menu"]:checked');
          if (!activeRadio) return;

          // lấy label chứa radio
          const label = activeRadio.closest('.tabbar__item');
          if (!label) return;

          // thêm class active để CSS đánh dấu (tuỳ chọn)
          tabbar.querySelectorAll('.tabbar__item').forEach(item => item.classList.remove('active'));
          label.classList.add('active');

          // cuộn ngang: đặt label vào giữa container
          label.scrollIntoView({
            behavior: 'smooth',
            inline: 'center',   // center | start | nearest
            block: 'nearest'
          });
        }

        // gọi một lần để scroll tới tab mặc định
        scrollToActive();

        // lắng nghe thay đổi radio
        radios.forEach(radio => {
          radio.addEventListener('change', scrollToActive);
        });

        // nếu bạn kích hoạt tab bằng click vào button bên trong label
        tabbar.querySelectorAll('.tabbar__button').forEach(btn => {
          btn.addEventListener('click', () => {
            // đợi radio checked được cập nhật rồi mới scroll
            setTimeout(scrollToActive, 0);
          });
        });
      });

    </script>
    <script>
        //Glider
  new Glider(document.querySelector(".glider-category-list"), {
    slidesToShow: 1.8,
    slidesToScroll: 1,
    draggable: true,
    dots: ".dots",
  });
    </script>
    <script>
      function showsheet() {
        var sheet = document.querySelector("ons-action-sheet");
        sheet.show();
        $(".button-filter").removeClass("active");
      }
      function hidesheet() {
        var sheet = document.querySelector("ons-action-sheet");
        sheet.hide();
        $(".button-filter").addClass("active");
      }
    </script>

    <script>
      function button_list() {
        $(".button-list").toggleClass("active");        
        $(".masonry").toggleClass("masonry-list");
      }
    </script>
  </body>
</html>
